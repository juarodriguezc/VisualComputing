<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Visual masking # Incluir teoría acerca de visual masking
Image kernels # Teoría # Aplicación # Masking //Global variables //Bar variables let barWidth = 65, barHeight = 22; let dir = false, moveR = true, showBars = true, showGuide = false; let speedR = 5; let xPos = 0, yPos = 180, yDif = 100; let barsFoot = 4; //Color selector let colorOptions = ['blue-yellow', 'red-green', 'grey']; let colorOptionsInv = { 'blue-yellow':0, 'red-green':1, 'grey':2 } let colors = [[&#34;#000099&#34;,&#34;#F2F200&#34;],[&#34;#4C0000&#34;,&#34;#00E500&#34;],[&#34;#000000&#34;,&#34;#FFF&#34;]] let barColors = [[&#34;#000&#34;,&#34;#FFF&#34;],[&#34;#333&#34;,&#34;#CCC&#34;],[&#34;#000&#34;,&#34;#FFF&#34;]] //Menu variables let menuWidth = 130; let selColor; let colorSelected = 0; let sliderBars; let sliderSpeed; let chbMove; let chbBars; let chbGuide; function setup() { frameRate(60); createCanvas(705, 475); //Create the color selector selColor = createSelect(); for(var option in colorOptions) selColor."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Visual masking # Incluir teoría acerca de visual masking
Image kernels # Teoría # Aplicación # Masking //Global variables //Bar variables let barWidth = 65, barHeight = 22; let dir = false, moveR = true, showBars = true, showGuide = false; let speedR = 5; let xPos = 0, yPos = 180, yDif = 100; let barsFoot = 4; //Color selector let colorOptions = ['blue-yellow', 'red-green', 'grey']; let colorOptionsInv = { 'blue-yellow':0, 'red-green':1, 'grey':2 } let colors = [[&#34;#000099&#34;,&#34;#F2F200&#34;],[&#34;#4C0000&#34;,&#34;#00E500&#34;],[&#34;#000000&#34;,&#34;#FFF&#34;]] let barColors = [[&#34;#000&#34;,&#34;#FFF&#34;],[&#34;#333&#34;,&#34;#CCC&#34;],[&#34;#000&#34;,&#34;#FFF&#34;]] //Menu variables let menuWidth = 130; let selColor; let colorSelected = 0; let sliderBars; let sliderSpeed; let chbMove; let chbBars; let chbGuide; function setup() { frameRate(60); createCanvas(705, 475); //Create the color selector selColor = createSelect(); for(var option in colorOptions) selColor."><meta property="og:type" content="article"><meta property="og:url" content="https://juarodriguezc.github.io/VisualComputing/docs/workshops/masking/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-09-08T03:03:43-05:00"><title>Masking | Visual Computing</title><link rel=manifest href=/VisualComputing/manifest.json><link rel=icon href=/VisualComputing/favicon.png type=image/x-icon><link rel=stylesheet href=/VisualComputing/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/VisualComputing/flexsearch.min.js></script>
<script defer src=/VisualComputing/en.search.min.119220b021979d9469306097025624a5562be10f694a1ae383a930a7a0f262a6.js integrity="sha256-EZIgsCGXnZRpMGCXAlYkpVYr4Q9pShrjg6kwp6DyYqY=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/VisualComputing/><span>Visual Computing</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Workshops</span><ul><li><a href=/VisualComputing/docs/workshops/masking/ class=active>Masking</a></li><li><a href=/VisualComputing/docs/workshops/optical_illusions/>Optical Illusions</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/VisualComputing/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Masking</strong>
<label for=toc-control><img src=/VisualComputing/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#visual-masking>Visual masking</a><ul><li><a href=#image-kernels>Image kernels</a><ul><li><a href=#teoría>Teoría</a></li><li><a href=#aplicación>Aplicación</a></li></ul></li><li><a href=#image-histogram>Image Histogram</a><ul><li><a href=#teoría-1>Teoría</a></li><li><a href=#aplicación-1>Aplicación</a></li></ul></li><li><a href=#bibliografía>Bibliografía</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=visual-masking>Visual masking
<a class=anchor href=#visual-masking>#</a></h1><p>Incluir teoría acerca de visual masking</p><h2 id=image-kernels>Image kernels
<a class=anchor href=#image-kernels>#</a></h2><h3 id=teoría>Teoría
<a class=anchor href=#teor%c3%ada>#</a></h3><h3 id=aplicación>Aplicación
<a class=anchor href=#aplicaci%c3%b3n>#</a></h3><details><summary>Masking</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>//Global variables
</span></span></span><span style=display:flex><span><span style=color:#75715e>//Bar variables
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>65</span>, <span style=color:#a6e22e>barHeight</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>22</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dir</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>, <span style=color:#a6e22e>moveR</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>, <span style=color:#a6e22e>showBars</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>, <span style=color:#a6e22e>showGuide</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>speedR</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>xPos</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>yPos</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>180</span>, <span style=color:#a6e22e>yDif</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barsFoot</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>//Color selector
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorOptions</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;blue-yellow&#39;</span>, <span style=color:#e6db74>&#39;red-green&#39;</span>, <span style=color:#e6db74>&#39;grey&#39;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorOptionsInv</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;blue-yellow&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;red-green&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#39;grey&#39;</span><span style=color:#f92672>:</span><span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [[<span style=color:#e6db74>&#34;#000099&#34;</span>,<span style=color:#e6db74>&#34;#F2F200&#34;</span>],[<span style=color:#e6db74>&#34;#4C0000&#34;</span>,<span style=color:#e6db74>&#34;#00E500&#34;</span>],[<span style=color:#e6db74>&#34;#000000&#34;</span>,<span style=color:#e6db74>&#34;#FFF&#34;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>barColors</span> <span style=color:#f92672>=</span> [[<span style=color:#e6db74>&#34;#000&#34;</span>,<span style=color:#e6db74>&#34;#FFF&#34;</span>],[<span style=color:#e6db74>&#34;#333&#34;</span>,<span style=color:#e6db74>&#34;#CCC&#34;</span>],[<span style=color:#e6db74>&#34;#000&#34;</span>,<span style=color:#e6db74>&#34;#FFF&#34;</span>]]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Menu variables
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>menuWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>130</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selColor</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorSelected</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sliderBars</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>sliderSpeed</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>chbMove</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>chbBars</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>chbGuide</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>frameRate</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>705</span>, <span style=color:#ae81ff>475</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create the color selector
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>option</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>colorOptions</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>selColor</span>.<span style=color:#a6e22e>option</span>(<span style=color:#a6e22e>colorOptions</span>[<span style=color:#a6e22e>option</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selColor</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>colorSelectEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selColor</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>22</span>, <span style=color:#ae81ff>95</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create the barsFoot slider
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>sliderBars</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>barsFoot</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sliderBars</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>160</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sliderBars</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create the barsFoot slider
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>sliderSpeed</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>speedR</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sliderSpeed</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sliderSpeed</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create checkbox for movement
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>chbMove</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Move&#39;</span>, <span style=color:#a6e22e>moveR</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbMove</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>330</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbMove</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>moveEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbMove</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;font-family: Arial; font-size: 16px;&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create checkbox for show bars
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>chbBars</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Show bars&#39;</span>, <span style=color:#a6e22e>showBars</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbBars</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbBars</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>barsEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbBars</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;font-family: Arial; font-size: 16px;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create checkbox for show guide
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>chbGuide</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Show guide&#39;</span>, <span style=color:#a6e22e>showGuide</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbGuide</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>18</span>, <span style=color:#ae81ff>370</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbGuide</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>guideEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>chbGuide</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;font-family: Arial; font-size: 16px;&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;#CCC&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Update vars
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>barsFoot</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sliderBars</span>.<span style=color:#a6e22e>value</span>()
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>nLines</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>)<span style=color:#f92672>/</span>(<span style=color:#a6e22e>barWidth</span><span style=color:#f92672>/</span><span style=color:#a6e22e>barsFoot</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>speedR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sliderSpeed</span>.<span style=color:#a6e22e>value</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Define the movement logic
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>xPos</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dir</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>xPos</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>barWidth</span> <span style=color:#f92672>&gt;=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>menuWidth</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dir</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>moveR</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>dir</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>false</span>)
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>xPos</span><span style=color:#f92672>+=</span>(<span style=color:#a6e22e>speedR</span><span style=color:#f92672>/</span><span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>xPos</span><span style=color:#f92672>-=</span>(<span style=color:#a6e22e>speedR</span><span style=color:#f92672>/</span><span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw the vertical lines
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>nLines</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>+=</span><span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showBars</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>barColors</span>[<span style=color:#a6e22e>colorSelected</span>][<span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>i</span><span style=color:#f92672>*</span>(<span style=color:#a6e22e>barWidth</span><span style=color:#f92672>/</span><span style=color:#a6e22e>barsFoot</span>),<span style=color:#ae81ff>0</span>,(<span style=color:#a6e22e>barWidth</span><span style=color:#f92672>/</span><span style=color:#a6e22e>barsFoot</span>),<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>barColors</span>[<span style=color:#a6e22e>colorSelected</span>][<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>rect</span>((<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>)<span style=color:#f92672>*</span>(<span style=color:#a6e22e>barWidth</span><span style=color:#f92672>/</span><span style=color:#a6e22e>barsFoot</span>),<span style=color:#ae81ff>0</span>,(<span style=color:#a6e22e>barWidth</span><span style=color:#f92672>/</span><span style=color:#a6e22e>barsFoot</span>),<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw the horizontal rect
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>colorSelected</span>][<span style=color:#ae81ff>1</span>])
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>xPos</span>,<span style=color:#a6e22e>yPos</span>,<span style=color:#a6e22e>barWidth</span>, <span style=color:#a6e22e>barHeight</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colors</span>[<span style=color:#a6e22e>colorSelected</span>][<span style=color:#ae81ff>0</span>])
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>xPos</span>,<span style=color:#a6e22e>yPos</span><span style=color:#f92672>+</span><span style=color:#a6e22e>yDif</span>,<span style=color:#a6e22e>barWidth</span>, <span style=color:#a6e22e>barHeight</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showGuide</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#FF0000&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>xPos</span>,<span style=color:#a6e22e>yPos</span>,<span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>yDif</span><span style=color:#f92672>+</span><span style=color:#a6e22e>barHeight</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>xPos</span><span style=color:#f92672>+</span><span style=color:#a6e22e>barWidth</span><span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>yPos</span>,<span style=color:#ae81ff>5</span>,<span style=color:#a6e22e>yDif</span><span style=color:#f92672>+</span><span style=color:#a6e22e>barHeight</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw the menu
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>drawMenu</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawMenu</span>(){
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Menu
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#6674c8&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>width</span>,<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Title
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;black&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textStyle</span>(<span style=color:#a6e22e>BOLD</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>16</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Parameters&#34;</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>16</span>,<span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Colors section
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textStyle</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Colors&#34;</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>35</span>,<span style=color:#ae81ff>75</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Bars foot section
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Bars / Foot&#34;</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>22</span>,<span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#34;black&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;white&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>28</span>,<span style=color:#ae81ff>175</span>,<span style=color:#ae81ff>60</span>,<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;black&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>16</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>barsFoot</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>50</span>,<span style=color:#ae81ff>195</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Speed section
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Speed&#34;</span>,<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>35</span>,<span style=color:#ae81ff>240</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#34;black&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;white&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>28</span>,<span style=color:#ae81ff>265</span>,<span style=color:#ae81ff>60</span>,<span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;black&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>16</span>)
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#66d9ef>int</span>(<span style=color:#a6e22e>speedR</span>),<span style=color:#a6e22e>width</span><span style=color:#f92672>-</span><span style=color:#a6e22e>menuWidth</span><span style=color:#f92672>+</span><span style=color:#ae81ff>50</span>,<span style=color:#ae81ff>285</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Events for menu
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>colorSelectEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorSelected</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>colorOptionsInv</span>[<span style=color:#a6e22e>selColor</span>.<span style=color:#a6e22e>value</span>()]
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>moveEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>moveR</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>chbMove</span>.<span style=color:#a6e22e>checked</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>barsEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showBars</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>chbBars</span>.<span style=color:#a6e22e>checked</span>()
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>guideEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showGuide</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>chbGuide</span>.<span style=color:#a6e22e>checked</span>()
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><iframe id=masking style=width:725px;height:675px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
            
            
            
            
            
            <script src=/VisualComputing/sketches/workshop1/2/masking.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=image-histogram>Image Histogram
<a class=anchor href=#image-histogram>#</a></h2><h3 id=teoría-1>Teoría
<a class=anchor href=#teor%c3%ada-1>#</a></h3><h3 id=aplicación-1>Aplicación
<a class=anchor href=#aplicaci%c3%b3n-1>#</a></h3><details><summary>Histogram class</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>//Class for histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Histogram</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(<span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>binWidth</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>undefined</span>, <span style=color:#a6e22e>title</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Histogram of different channels&#34;</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>300</span>, <span style=color:#a6e22e>extStroke</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>) {    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Values for style
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDefC</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;#1F76B470&#34;</span>, <span style=color:#e6db74>&#34;#FF7F0E70&#34;</span>, <span style=color:#e6db74>&#34;#2CA02C70&#34;</span>, <span style=color:#e6db74>&#34;#D6272770&#34;</span>, <span style=color:#e6db74>&#34;#9467BD70&#34;</span>, <span style=color:#e6db74>&#34;#8C564B70&#34;</span>, <span style=color:#e6db74>&#34;#E377C270&#34;</span>,<span style=color:#e6db74>&#34;#BCBD2270&#34;</span>, <span style=color:#e6db74>&#34;#17BECF70&#34;</span>];
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Get data size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>data</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>length</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>undefined</span>)
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>data</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>colors</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>undefined</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>colors</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>)
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>print</span>(<span style=color:#e6db74>&#34;The data and colors dimensions are different&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span>.<span style=color:#a6e22e>concat</span>(<span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDefC</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDefC</span>;
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Set the parameter values    
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>binWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>binWidth</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>extStroke</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>extStroke</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>title</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>title</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>undefined</span>)<span style=color:#f92672>?</span><span style=color:#66d9ef>undefined</span><span style=color:#f92672>:</span><span style=color:#a6e22e>title</span>.<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Calculate the values for drawing
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>5</span><span style=color:#f92672>/</span><span style=color:#ae81ff>32</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>title</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>undefined</span>)<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>/</span><span style=color:#ae81ff>32</span> <span style=color:#f92672>:</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span><span style=color:#f92672>/</span><span style=color:#ae81ff>32</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>13</span><span style=color:#f92672>/</span><span style=color:#ae81ff>16</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>25</span><span style=color:#f92672>/</span><span style=color:#ae81ff>32</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>32</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Drawable area
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthDCanvas</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightDCanvas</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthDCanvas</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>80</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>7</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesY</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Min and max val from data
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMinMaxData</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>min</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxVal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Calculate the frequency
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_frequency</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getFrequency</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>binWidth</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_frequency</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_binW</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthDCanvas</span> <span style=color:#f92672>/</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span>)<span style=color:#f92672>?</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span><span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span> <span style=color:#f92672>=</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>)<span style=color:#f92672>?</span><span style=color:#ae81ff>2</span><span style=color:#f92672>:</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span>;
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Calculate lines for axis X
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getCloserVal</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxVal</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span>) );
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMinX</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xSpaceLine</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>ceil</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxVal</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>binWidth</span> <span style=color:#f92672>*</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>binWidth</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Calculate lines for axis Y
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxFreq</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMinMaxData</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_frequency</span>).<span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getCloserVal</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxFreq</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesY</span>) );
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>draw</span>(<span style=color:#a6e22e>visibleData</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>undefined</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>strokeWeight</span>(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1000</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#34;#222222&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Delete the stroke if neccesary
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#f92672>!</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>extStroke</span>)<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw the background of the histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#F9F9F9&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rect</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>x</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>y</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw the histogram canva
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>rect</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> );
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw the title if is defined
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>title</span> <span style=color:#f92672>!==</span> <span style=color:#66d9ef>undefined</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#444444&#34;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>textStyle</span>(<span style=color:#a6e22e>BOLD</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>textSize</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>20</span>)
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>text</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>title</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>), <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>2</span><span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw lines for horizontal axis
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>line</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>), <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> , <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>), <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>);  
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw numbers for horizontal axis
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textSize</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>29</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesX</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthCanvas</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>text</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minX</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>),<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>5</span><span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>)
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw lines for vertical axis
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesY</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>line</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>), <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span><span style=color:#f92672>-</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>));
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw numbers for vertical axis
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>RIGHT</span>, <span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>textSize</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>28</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nLinesY</span><span style=color:#f92672>+</span><span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>) <span style=color:#f92672>&gt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>10000</span>){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>text</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>).<span style=color:#a6e22e>toExponential</span>(), <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>2</span>)<span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>text</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span><span style=color:#f92672>-</span>(<span style=color:#ae81ff>2</span>)<span style=color:#f92672>*</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_lineSize</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValY</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Save current state
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>    <span style=color:#75715e>//Draw the data not Parameter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>visibleData</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>undefined</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>fill</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>          <span style=color:#75715e>//Make it shorter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>          <span style=color:#a6e22e>rect</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_binW</span><span style=color:#f92672>*</span><span style=color:#a6e22e>j</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.5</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_binW</span>, <span style=color:#f92672>-</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightDCanvas</span> <span style=color:#f92672>+</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_frequency</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>]))));
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>visibleData</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>!=</span> <span style=color:#66d9ef>false</span>){
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>fill</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>barColDef</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>          <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_freqLen</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>            <span style=color:#75715e>//Make it shorter
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>            <span style=color:#a6e22e>rect</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_binW</span><span style=color:#f92672>*</span><span style=color:#a6e22e>j</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>0.5</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_binW</span>, <span style=color:#f92672>-</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightDCanvas</span> <span style=color:#f92672>+</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getPosY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_frequency</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>]))));
</span></span><span style=display:flex><span>          }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMinMaxData</span>(<span style=color:#a6e22e>data</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>arrMin</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>size</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>arrMax</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>size</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>size</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>getMinMaxArr</span>(<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arrMin</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>min</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>arrMax</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> {<span style=color:#a6e22e>min</span><span style=color:#f92672>:</span> Math.<span style=color:#a6e22e>min</span>.<span style=color:#a6e22e>apply</span>(Math, <span style=color:#a6e22e>arrMin</span>), <span style=color:#a6e22e>max</span><span style=color:#f92672>:</span> Math.<span style=color:#a6e22e>max</span>.<span style=color:#a6e22e>apply</span>(Math, <span style=color:#a6e22e>arrMax</span>)};
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMinMaxArr</span>(<span style=color:#a6e22e>arr</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span> (<span style=color:#a6e22e>i</span><span style=color:#f92672>--</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>:</span> <span style=color:#a6e22e>min</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>max</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>max</span> <span style=color:#f92672>?</span> <span style=color:#a6e22e>arr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>:</span> <span style=color:#a6e22e>max</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> { <span style=color:#a6e22e>min</span>, <span style=color:#a6e22e>max</span> };
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getFrequency</span>(<span style=color:#a6e22e>binWidth</span>){
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>freqData</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_nData</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#75715e>//Create array for frequency
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>freqArray</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Array(Math.<span style=color:#a6e22e>ceil</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxVal</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>binWidth</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#75715e>//Calculate frecuency
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>length</span> ; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>freqArray</span>[Math.<span style=color:#a6e22e>floor</span>((<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>data</span>[<span style=color:#a6e22e>i</span>][<span style=color:#a6e22e>j</span>] <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span>)<span style=color:#f92672>/</span><span style=color:#a6e22e>binWidth</span>)]<span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>freqData</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>freqArray</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>freqData</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getCloserVal</span>(<span style=color:#a6e22e>step</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>vals</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>,<span style=color:#ae81ff>2</span>,<span style=color:#ae81ff>5</span>,<span style=color:#ae81ff>10</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rVal</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>step</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>rVal</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>15</span>){
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strVal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rVal</span>.<span style=color:#a6e22e>toString</span>();
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> (Math.<span style=color:#a6e22e>round</span>(<span style=color:#a6e22e>rVal</span> <span style=color:#f92672>/</span> Math.<span style=color:#a6e22e>pow</span>(<span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>strVal</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>))) <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>pow</span>(<span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>strVal</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>      
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>difArr</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>vals</span>.<span style=color:#a6e22e>length</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>vals</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>difArr</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>rVal</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>vals</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>      }
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>minVal</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>min</span>.<span style=color:#a6e22e>apply</span>(Math, <span style=color:#a6e22e>difArr</span>);
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>vals</span>[<span style=color:#a6e22e>difArr</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#a6e22e>minVal</span>)];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getMinX</span>(){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>val</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>while</span>(<span style=color:#a6e22e>val</span> <span style=color:#f92672>%</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_closerValX</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>val</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>val</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getPosX</span>(<span style=color:#a6e22e>x</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_minVal</span>)<span style=color:#f92672>*</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_widthDCanvas</span> <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xSpaceLine</span>) <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_xCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_canvasPadding</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>getPosY</span>(<span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_yCanvas</span> <span style=color:#f92672>+</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightCanvas</span>) <span style=color:#f92672>-</span> (<span style=color:#a6e22e>y</span>)<span style=color:#f92672>*</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_heightDCanvas</span> <span style=color:#f92672>/</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>_maxFreq</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>Images histogram</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>path</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;/VisualComputing/sketches/workshop1/2/img/&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Global variables
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dWidth</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>imagesPath</span> <span style=color:#f92672>=</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mandrill</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>path</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;mandrill.png&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sunset</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>path</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;sunset.jpg&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>landscape</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>path</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;landscape.jpg&#34;</span>],
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>astronaut</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>path</span><span style=color:#f92672>+</span><span style=color:#e6db74>&#34;astronaut.jpg&#34;</span>],
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagesPath</span>.<span style=color:#a6e22e>mandrill</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>aspectRatio</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>images</span> <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Menu variables
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mWidth</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>selectImg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>imgInput</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>histogram</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colors</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;#FF000099&#34;</span>, <span style=color:#e6db74>&#34;#00FF0099&#34;</span>, <span style=color:#e6db74>&#34;#0000FF99&#34;</span>, <span style=color:#e6db74>&#34;#9F9FBE99&#34;</span>, <span style=color:#e6db74>&#34;#D1DA4899&#34;</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//RGB, LUMA, SUM
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>showChannel</span> <span style=color:#f92672>=</span> [<span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>true</span>, <span style=color:#66d9ef>false</span>, <span style=color:#66d9ef>false</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>namesButtons</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#39;R&#39;</span>,<span style=color:#e6db74>&#39;G&#39;</span>,<span style=color:#e6db74>&#39;B&#39;</span>,<span style=color:#e6db74>&#34;LUM&#34;</span>,<span style=color:#e6db74>&#34;SUM&#34;</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>buttons</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>btUpdate</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pixelDensity</span>(<span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>705</span>, <span style=color:#ae81ff>650</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Set vars of canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>mWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>mWidth</span>;
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw inputs
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>drawMenuInputs</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Load default images
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>image</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>imagesPath</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>images</span>[<span style=color:#a6e22e>imagesPath</span>[<span style=color:#a6e22e>image</span>][<span style=color:#ae81ff>0</span>]] <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#a6e22e>imagesPath</span>[<span style=color:#a6e22e>image</span>][<span style=color:#ae81ff>1</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>images</span>[<span style=color:#a6e22e>selImage</span>[<span style=color:#ae81ff>0</span>]];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aspectRatio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imageMode</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Histogram</span>([<span style=color:#ae81ff>0</span>],<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>175</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>undefined</span>, <span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#a6e22e>namesButtons</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width:100px&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>buttons</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>buttons</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>400</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>30</span><span style=color:#f92672>*</span><span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>bt0Ch</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>bt1Ch</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>bt2Ch</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>bt3Ch</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>bt4Ch</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btUpdate</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#34;Actualizar datos&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btUpdate</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(197,197,197); width:120px; height: 40px;&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btUpdate</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>btUpdate</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>updateData</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;#EEE&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>img</span>) {
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>aspectRatio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cImgLoad</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>,<span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span>, ((<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>aspectRatio</span>, (<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>!=</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>){
</span></span><span style=display:flex><span>      <span style=color:#75715e>//Calculate values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getRGBLAlt</span>(<span style=color:#a6e22e>pixels</span>, ((<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>aspectRatio</span>, (<span style=color:#a6e22e>height</span><span style=color:#f92672>-</span><span style=color:#ae81ff>50</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>      <span style=color:#75715e>//Create new histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Histogram</span>(<span style=color:#a6e22e>data</span>,<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>175</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>undefined</span>, <span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cImgLoad</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Calculate values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getRGBL</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>        <span style=color:#75715e>//Create new histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Histogram</span>(<span style=color:#a6e22e>data</span>,<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>175</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>undefined</span>, <span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cImgLoad</span><span style=color:#f92672>++</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>histogram</span>.<span style=color:#a6e22e>draw</span>(<span style=color:#a6e22e>showChannel</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawMenu</span>(<span style=color:#e6db74>&#34;#6674C8&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawMenuInputs</span>(){
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Image selector
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selectImg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width:120px; textAlign: center;&#34;</span>)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>image</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>imagesPath</span>)    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>option</span>(<span style=color:#a6e22e>image</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>14</span>, <span style=color:#ae81ff>120</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>imageSelEvent</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Personalizada&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>disable</span>(<span style=color:#e6db74>&#34;Personalizada&#34;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Input para cargar la imagen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>imgInput</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createFileInput</span>(<span style=color:#a6e22e>handleFile</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imgInput</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>130</span>,<span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imgInput</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>14</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imgInput</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;textAlign: center; &#34;</span>)
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawMenu</span>(<span style=color:#a6e22e>color</span>){
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw menu rect
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>dWidth</span>,<span style=color:#ae81ff>0</span>,<span style=color:#a6e22e>width</span>,<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw the kernel section
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;#000&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textAlign</span>(<span style=color:#a6e22e>CENTER</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>17</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textStyle</span>(<span style=color:#a6e22e>BOLD</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Masking&#34;</span>, <span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Draw select image section
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>12</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textStyle</span>(<span style=color:#a6e22e>BOLD</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Selecciona la imagen&#34;</span>, <span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;O carga la imagen&#34;</span>, <span style=color:#a6e22e>dWidth</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>mWidth</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>180</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>//Events
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>imageSelEvent</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagesPath</span>[<span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>value</span>()];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>images</span>[<span style=color:#a6e22e>selImage</span>[<span style=color:#ae81ff>0</span>]];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>aspectRatio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Calculate values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getRGBL</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create new histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Histogram</span>(<span style=color:#a6e22e>data</span>,<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>175</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>undefined</span>, <span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleFile</span>(<span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;image&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>createImg</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>data</span>, <span style=color:#e6db74>&#39;&#39;</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>selectImg</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#34;Personalizada&#34;</span>);
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>updateData</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cImgLoad</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Calculate values
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loadPixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>data</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>getRGBL</span>(<span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pixels</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>updatePixels</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create new histogram
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>histogram</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Histogram</span>(<span style=color:#a6e22e>data</span>,<span style=color:#ae81ff>30</span>,<span style=color:#ae81ff>10</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span><span style=color:#ae81ff>15</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>175</span>, <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>colors</span>, <span style=color:#66d9ef>undefined</span>, <span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getRGBL</span>(<span style=color:#a6e22e>data</span>, <span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>height</span>){
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create arrays for each channel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>R</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>G</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>L</span> <span style=color:#f92672>=</span> Array(<span style=color:#a6e22e>data</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span>).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Iterate the data
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>R</span>[<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>G</span>[<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>data</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>SUM</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>R</span>.<span style=color:#a6e22e>concat</span>(<span style=color:#a6e22e>G</span>,<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>R</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>L</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>getLuma</span>(<span style=color:#a6e22e>R</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>G</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>temp</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>R</span>, <span style=color:#a6e22e>G</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>L</span>, <span style=color:#a6e22e>SUM</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>retVal</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retVal</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>temp</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retVal</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>retVal</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getRGBLAlt</span>(<span style=color:#a6e22e>dataImg</span>, <span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>h</span>, <span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>y</span>){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>w</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>w</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>h</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>h</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create arrays for each channel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>R</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>G</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>A</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>L</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>SUM</span> <span style=color:#f92672>=</span> Array(Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>h</span>)).<span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//Create start and end vars
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>xStart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>yStart</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>xEnd</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>yEnd</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>+</span><span style=color:#a6e22e>h</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>;  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>yStart</span>, <span style=color:#a6e22e>i2</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>yEnd</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>, <span style=color:#a6e22e>i2</span><span style=color:#f92672>++</span> ){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j2</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>j</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>xStart</span>, <span style=color:#a6e22e>j2</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>j</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>xEnd</span>; <span style=color:#a6e22e>j</span><span style=color:#f92672>++</span>, <span style=color:#a6e22e>j2</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>R</span>[<span style=color:#a6e22e>j2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>dataImg</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>G</span>[<span style=color:#a6e22e>j2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>dataImg</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>j2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>dataImg</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>A</span>[<span style=color:#a6e22e>j2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>w</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>dataImg</span>[(<span style=color:#a6e22e>j</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>i</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>4</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>R</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>L</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>getLuma</span>(<span style=color:#a6e22e>R</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>G</span>[<span style=color:#a6e22e>i</span>], <span style=color:#a6e22e>B</span>[<span style=color:#a6e22e>i</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>temp</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>R</span>, <span style=color:#a6e22e>G</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>L</span>, <span style=color:#a6e22e>SUM</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>retVal</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>){
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retVal</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>temp</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span>{
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>retVal</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>retVal</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>getLuma</span>(<span style=color:#a6e22e>R</span>, <span style=color:#a6e22e>G</span>, <span style=color:#a6e22e>B</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>R</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>G</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>B</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bt0Ch</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>0</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bt1Ch</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>1</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bt2Ch</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>2</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bt3Ch</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>3</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>3</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bt4Ch</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>4</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>showChannel</span>[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>==</span> <span style=color:#66d9ef>true</span>)
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(160,252,133);&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>buttons</span>[<span style=color:#ae81ff>4</span>].<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;background-color: rgb(255,255,255);&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span></code></pre></div></div></details><iframe id=imageHist style=width:725px;height:675px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/addons/p5.sound.min.js></script>
             <script src=/VisualComputing/sketches/workshop1/2/histogram.js></script> 
            
            
            
            
            <script src=/VisualComputing/sketches/workshop1/2/imageHist.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=bibliografía>Bibliografía
<a class=anchor href=#bibliograf%c3%ada>#</a></h2><p><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/concat</a></p></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/d9a899c8fc93c42905b66c6aa59ddc0d8ca57bc2 title='Last modified by juarodriguezc | September 8, 2022' target=_blank rel=noopener><img src=/VisualComputing/svg/calendar.svg class=book-icon alt=Calendar>
<span>September 8, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#visual-masking>Visual masking</a><ul><li><a href=#image-kernels>Image kernels</a><ul><li><a href=#teoría>Teoría</a></li><li><a href=#aplicación>Aplicación</a></li></ul></li><li><a href=#image-histogram>Image Histogram</a><ul><li><a href=#teoría-1>Teoría</a></li><li><a href=#aplicación-1>Aplicación</a></li></ul></li><li><a href=#bibliografía>Bibliografía</a></li></ul></li></ul></nav></div></aside></main></body></html>